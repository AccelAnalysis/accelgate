<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Accel RFP | Admin Dashboard</title>

  <!-- App Styles -->
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
  <!-- HEADER -->
  <header id="mainHeader">
    <div class="header-left">
      <h1>Admin Dashboard</h1>
      <p class="subtitle">Manage Templates, Profiles, and Evaluations</p>
    </div>
    <div class="header-right">
      <button id="backToMapBtn" class="btn-secondary">Back to Map</button>
    </div>
  </header>

  <!-- MAIN CONTAINER -->
  <main id="mainContainer">
    <!-- SIDEBAR NAV -->
    <aside id="sidebar">
      <nav class="sidebar-nav">
        <button class="nav-btn active" data-tab="templates">Templates</button>
        <button class="nav-btn" data-tab="profiles">Profiles</button>
        <button class="nav-btn" data-tab="evaluations">Evaluations</button>
      </nav>
    </aside>

    <!-- CONTENT AREA -->
    <section id="contentArea">
      <!-- TEMPLATES TAB -->
      <section id="templatesTab" class="tab-content">
        <div class="form-section">
          <h2>RFP Templates</h2>
          <form id="templateForm">
            <input type="hidden" name="TemplateID" id="templateId" />
            <div class="form-grid">
              <div>
                <label for="templateName">Template Name</label>
                <input type="text" id="templateName" name="Name" required />
              </div>
              <div>
                <label for="templateIndustry">Industry</label>
                <input type="text" id="templateIndustry" name="Industry" required />
              </div>
            </div>

            <label for="fieldsJSON">Fields JSON</label>
            <textarea id="fieldsJSON" name="FieldsJSON" rows="8" placeholder='[
  {"name":"Cost","label":"Total Cost ($)","type":"number","required":true},
  {"name":"Timeline","label":"Delivery Timeline (days)","type":"number"},
  {"name":"Experience","label":"Years in Industry","type":"range","min":0,"max":20}
]'></textarea>

            <label for="scoringJSON">Scoring Weights JSON</label>
            <textarea id="scoringJSON" name="ScoringJSON" rows="4" placeholder='{
  "Cost": 40,
  "Timeline": 30,
  "Experience": 20,
  "Innovation": 10
}'></textarea>

            <div class="form-actions">
              <button type="button" id="clearTemplateBtn" class="btn-secondary">Clear</button>
              <button type="submit" class="btn-primary">Save Template</button>
            </div>
          </form>
        </div>

        <div class="table-container">
          <table id="templatesTable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Industry</th>
                <th>Actions</th>
              </tr>
           ogén
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- PROFILES TAB (NEW) -->
      <section id="profilesTab" class="tab-content hidden">
        <div class="form-section">
          <h2>Organization Profile</h2>
          <form id="profileForm">
            <input type="hidden" name="UserID" id="profileUserId" />

            <div class="form-grid">
              <div>
                <label for="orgName">Organization Name</label>
                <input type="text" id="orgName" name="OrgName" required />
              </div>
              <div>
                <label for="hqAddress">HQ Address</label>
                <input type="text" id="hqAddress" name="HQ_Address" required />
                <button type="button" id="geocodeHQBtn" class="btn-small">Geocode</button>
              </div>
            </div>

            <div class="form-grid">
              <div>
                <label for="hqLat">HQ Latitude</label>
                <input type="number" step="any" id="hqLat" name="HQ_Lat" readonly />
              </div>
              <div>
                <label for="hqLng">HQ Longitude</label>
                <input type="number" step="any" id="hqLng" name="HQ_Lng" readonly />
              </div>
            </div>

            <div class="form-grid">
              <div>
                <label for="pinColor">Pin Color</label>
                <input type="color" id="pinColor" name="PinColor" value="#FFD965" />
              </div>
              <div>
                <label for="pinIcon">Pin Icon</label>
                <select id="pinIcon" name="PinIcon">
                  <option value="hq">Headquarters (Gold)</option>
                  <option value="site">Site (Blue)</option>
                </select>
              </div>
            </div>

            <hr>

            <h3>Additional Site Locations</h3>
            <div id="siteList"></div>
            <button type="button" id="addSiteBtn" class="btn-secondary">+ Add Site</button>

            <div class="form-actions">
              <button type="button" id="clearProfileBtn" class="btn-secondary">Clear</button>
              <button type="submit" class="btn-primary">Save Profile</button>
            </div>
          </form>
        </div>

        <div class="table-container">
          <table id="profilesTable">
            <thead>
              <tr>
                <th>UserID</th>
                <th>Organization</th>
                <th>HQ</th>
                <th>Sites</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- EVALUATIONS TAB -->
      <section id="evaluationsTab" class="tab-content hidden">
        <div class="form-section">
          <h2>Response Evaluations</h2>
          <div id="evaluationFilters" class="form-grid">
            <div>
              <label for="evalRFPFilter">RFP ID</label>
              <input type="text" id="evalRFPFilter" placeholder="Filter by RFP ID" />
            </div>
            <div>
              <label for="evalScoreFilter">Min Score</label>
              <input type="number" id="evalScoreFilter" min="0" max="100" placeholder="0–100" />
            </div>
          </div>
          <button id="applyEvalFilterBtn" class="btn-secondary">Apply Filter</button>
        </div>

        <div class="table-container">
          <table id="evaluationsTable">
            <thead>
              <tr>
                <th>Response ID</th>
                <th>RFP ID</th>
                <th>Score</th>
                <th>Pass</th>
                <th>Submitted</th>
                <th>Details</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </section>
  </main>

  <!-- MODAL -->
  <div id="modalOverlay" class="hidden">
    <div id="modalContent" class="modal">
      <button id="modalClose" class="modal-close">x</button>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <p>© 2025 Accel Analysis | Industrial Diplomacy</p>
    <a href="privacy.html">Privacy</a>
    <a href="terms.html">Terms</a>
    <button class="whats-this" onclick="window.open('https://accelanalysis.com/about', '_blank')">
      What’s this?
    </button>
  </footer>

  <!-- Core Scripts -->
  <script src="config.js"></matched></script>
  <script src="shared.js"></script>
  <script src="admin.js"></script>
</body>
</html>
