*{box-sizing:border-box}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0b132b;color:#e6edf3}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#1c2541;border-bottom:1px solid #243b55}
.topbar h1{margin:0;font-size:18px}
.role-toggle label{margin-right:12px;cursor:pointer}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;padding:16px}
.panel{background:#111827;border:1px solid #374151;border-radius:12px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.25)}
.hidden{display:none}
.map{height:380px;border-radius:12px;overflow:hidden;border:1px solid #374151;margin:8px 0}
.map-tools{display:flex;align-items:center;gap:10px}
.hint{opacity:.8;font-size:12px}
.stack{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.row{display:flex;gap:10px;align-items:center;margin:6px 0}
.grid-2{grid-template-columns:1fr 1fr;display:grid;gap:10px}
.grid-3{grid-template-columns:1fr 1fr auto;display:grid;gap:10px;align-items:end}
.grid-4{grid-template-columns:auto auto 1fr auto;display:grid;gap:8px;align-items:end}
input,textarea,select,button{font:inherit}
input,textarea,select{width:100%;padding:8px;border-radius:8px;border:1px solid #374151;background:#0b1220;color:#e6edf3}
button{padding:10px 14px;border-radius:10px;border:1px solid #3b82f6;background:#1d4ed8;color:#fff;cursor:pointer}
button.secondary{background:#374151;border-color:#4b5563}
button.small{padding:6px 10px}
.status{margin-left:8px;opacity:.9}
.list{margin-top:8px;display:flex;flex-direction:column;gap:10px}
.card{background:#0b1220;border:1px solid #374151;border-radius:10px;padding:10px}
.card summary{cursor:pointer;display:flex;gap:10px;align-items:center}
.card .chips{font-size:12px;opacity:.8}
.card .meta{display:flex;gap:16px;flex-wrap:wrap;font-size:12px;opacity:.85;margin:6px 0}
.response{border-top:1px dashed #374151;padding-top:8px;margin-top:8px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;padding:20px}
.modal.hidden{display:none}
.modal-content{max-width:720px;width:100%;background:#0b1220;border:1px solid #374151;border-radius:12px;position:relative;padding:16px}
.modal-close{position:absolute;right:10px;top:10px;border:none;background:#374151;border-radius:50%;width:28px;height:28px;cursor:pointer}
.chips .tag{background:#1f2937;border:1px solid #374151;border-radius:999px;padding:2px 8px;margin-right:6px}
.leaflet-container a{color:#60a5fa}
.popup-menu{display:flex;flex-direction:column;gap:6px}
.popup-btn{padding:6px 10px;border-radius:6px;border:1px solid #374151;background:#1c2541;color:#e6edf3;cursor:pointer}
.popup-btn:hover{background:#2f5597}
.small{font-size:13px}
